<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>工资查询提现一体化系统</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #fff;
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .search-section {
            margin-bottom: 30px;
        }
        
        .search-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 16px;
            text-align: center;
            transition: all 0.3s ease;
            color: white;
            margin-bottom: 15px;
        }
        
        .search-input:focus {
            outline: none;
            border-color: rgba(255, 107, 53, 0.5);
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .search-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4CAF50 0%, #66BB6A 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }
        
        .search-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }
        
        .info-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            display: none;
        }
        
        .info-card.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .info-card:hover {
            transform: translateY(-5px);
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .info-item:last-child {
            border-bottom: none;
        }
        
        .info-label {
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
            font-size: 14px;
        }
        
        .info-value {
            color: #fff;
            font-weight: 600;
            font-size: 16px;
            word-break: break-all;
            transition: all 0.3s ease;
        }
        
        /* 数字滚动效果 */
        .rolling-number {
            display: inline-block;
            position: relative;
            overflow: hidden;
            height: 1.2em;
        }
        
        .rolling-number span {
            display: inline-block;
            transform: translateY(1.2em);
            animation: rollIn 0.5s ease-out forwards;
        }
        
        @keyframes rollIn {
            to {
                transform: translateY(0);
            }
        }
        
        /* 颜色等级系统 - 按照您的要求修改 */
        .color-black { color: #000000 !important; text-shadow: 0 0 5px rgba(0, 0, 0, 0.5); }
        .color-gray { color: #808080 !important; text-shadow: 0 0 5px rgba(128, 128, 128, 0.5); }
        .color-white { color: #ffffff !important; text-shadow: 0 0 5px rgba(255, 255, 255, 0.5); }
        .color-green { color: #00ff00 !important; text-shadow: 0 0 5px rgba(0, 255, 0, 0.5); }
        .color-blue { color: #0080ff !important; text-shadow: 0 0 5px rgba(0, 128, 255, 0.5); }
        .color-purple { color: #8000ff !important; text-shadow: 0 0 5px rgba(128, 0, 255, 0.5); }
        .color-gold { color: #ffd700 !important; text-shadow: 0 0 5px rgba(255, 215, 0, 0.5); }
        .color-orange { color: #ff8000 !important; text-shadow: 0 0 5px rgba(255, 128, 0, 0.5); }
        .color-red { color: #ff0000 !important; text-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
        
        /* 工资数字旋转效果 */
        .salary-rolling {
            display: inline-block;
            position: relative;
            overflow: hidden;
            height: 1.2em;
        }
        
        .salary-digit {
            display: inline-block;
            transform: rotateX(90deg);
            animation: rotateIn 0.8s ease-out forwards;
            transform-style: preserve-3d;
        }
        
        @keyframes rotateIn {
            0% {
                transform: rotateX(90deg);
                opacity: 0;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                transform: rotateX(0deg);
                opacity: 1;
            }
        }
        
        /* 工资符号效果 */
        .salary-symbol {
            display: inline-block;
            animation: symbolPulse 2s infinite;
        }
        
        @keyframes symbolPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }
        
        /* 乱码效果 */
        .glitch-text {
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
            position: relative;
        }
        
        .glitch-text::before {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            animation: glitch 2s infinite;
        }
        
        @keyframes glitch {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* 问号效果 */
        .question-mark {
            display: inline-block;
            font-size: 24px;
            color: #ff6b35;
            animation: rotateAndScale 2s ease-out forwards;
        }
        
        @keyframes rotateAndScale {
            0% {
                transform: rotate(0deg) scale(1);
            }
            50% {
                transform: rotate(360deg) scale(2);
            }
            100% {
                transform: rotate(720deg) scale(1);
            }
        }
        
        .payment-selector {
            margin-bottom: 30px;
            display: none;
        }
        
        .payment-selector.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        .payment-title {
            color: #fff;
            font-size: 20px;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.3);
        }
        
        .payment-cards {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0;
            -webkit-overflow-scrolling: touch;
        }
        
        .payment-card {
            min-width: 100px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            flex: 1;
        }
        
        .payment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .payment-card.selected {
            border: 1px solid rgba(255, 107, 53, 0.5);
            background: rgba(255, 107, 53, 0.15);
            box-shadow: 0 0 15px rgba(255, 107, 53, 0.3);
        }
        
        .payment-card.selected::after {
            content: '✓';
            position: absolute;
            top: 5px;
            right: 5px;
            background: #ff6b35;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .payment-icon {
            font-size: 30px;
            margin-bottom: 8px;
            filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5));
        }
        
        .payment-name {
            color: #fff;
            font-size: 12px;
            font-weight: 500;
        }
        
        .amount-section {
            margin-bottom: 30px;
            display: none;
        }
        
        .amount-section.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        .amount-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 16px;
            text-align: center;
            transition: all 0.3s ease;
            color: white;
            -webkit-appearance: none;
        }
        
        .amount-input:focus {
            outline: none;
            border-color: rgba(255, 107, 53, 0.5);
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .amount-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* 新增：账户信息输入框样式 */
        .account-section {
            margin-bottom: 30px;
            display: none;
        }
        
        .account-section.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        .account-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 16px;
            text-align: center;
            transition: all 0.3s ease;
            color: white;
            margin-bottom: 15px;
        }
        
        .account-input:focus {
            outline: none;
            border-color: rgba(255, 107, 53, 0.5);
            box-shadow: 0 0 10px rgba(255, 107, 53, 0.3);
            background: rgba(255, 255, 255, 0.15);
        }
        
        .account-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff6b35 0%, #ff9a3d 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
            position: relative;
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
            display: none;
        }
        
        .submit-btn.show {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
        }
        
        .submit-btn:active {
            transform: translateY(0);
        }
        
        .submit-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.1);
            transform: rotate(30deg);
            transition: all 0.6s ease;
        }
        
        .submit-btn:hover::after {
            transform: rotate(30deg) translate(20%, 20%);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid #ff6b35;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading p {
            color: rgba(255, 255, 255, 0.7);
            margin-top: 10px;
        }
        
        .alert {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
            z-index: 1000;
            display: none;
            max-width: 90%;
            width: 400px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .alert.show {
            display: block;
            animation: alertShow 0.3s ease-out;
        }
        
        @keyframes alertShow {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }
        
        .alert h3 {
            margin-bottom: 15px;
            color: #ff6b35;
            text-shadow: 0 0 5px rgba(255, 107, 53, 0.3);
        }
        
        .alert p {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 14px;
        }
        
        .alert-btn {
            background: linear-gradient(135deg, #ff6b35 0%, #ff9a3d 100%);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }
        
        .alert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        
        .overlay.show {
            display: block;
        }
        
        .countdown {
            font-size: 20px;
            font-weight: bold;
            color: #ff6b35;
            margin: 20px 0;
            text-shadow: 0 0 5px rgba(255, 107, 53, 0.3);
        }
        
        .not-found {
            color: #ff6b35;
            text-align: center;
            padding: 20px;
            display: none;
        }
        
        .not-found.show {
            display: block;
        }
        
        /* 响应式设计 */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .payment-cards {
                justify-content: flex-start;
                gap: 10px;
            }
            
            .payment-card {
                min-width: 80px;
                padding: 12px;
            }
            
            .payment-icon {
                font-size: 24px;
            }
            
            .payment-name {
                font-size: 11px;
            }
            
            .info-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .info-value {
                font-size: 14px;
            }
            
            .search-input, .amount-input, .account-input {
                font-size: 16px;
            }
            
            .submit-btn, .search-btn {
                font-size: 16px;
            }
            
            .alert {
                padding: 20px;
                width: 90%;
            }
            
            .alert p {
                font-size: 14px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                margin: 5px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .info-card {
                padding: 15px;
            }
            
            .payment-title {
                font-size: 18px;
            }
            
            .payment-card {
                min-width: 70px;
                padding: 10px;
            }
            
            .payment-icon {
                font-size: 20px;
            }
            
            .payment-name {
                font-size: 10px;
            }
            
            .search-input, .amount-input, .account-input {
                font-size: 14px;
                padding: 12px;
            }
            
            .submit-btn, .search-btn {
                font-size: 14px;
                padding: 12px;
            }
            
            .alert {
                padding: 15px;
            }
            
            .countdown {
                font-size: 18px;
            }
        }
        
        @media (max-width: 320px) {
            .payment-cards {
                gap: 8px;
            }
            
            .payment-card {
                min-width: 60px;
                padding: 8px;
            }
            
            .payment-icon {
                font-size: 18px;
            }
            
            .payment-name {
                font-size: 9px;
            }
            
            .search-input, .amount-input, .account-input {
                font-size: 12px;
            }
            
            .submit-btn, .search-btn {
                font-size: 12px;
            }
        }
        
        @media (max-height: 500px) and (orientation: landscape) {
            .container {
                padding: 15px;
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .header {
                margin-bottom: 20px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .info-card {
                margin-bottom: 20px;
                padding: 15px;
            }
            
            .payment-selector {
                margin-bottom: 20px;
            }
            
            .payment-title {
                font-size: 18px;
                margin-bottom: 15px;
            }
            
            .amount-section {
                margin-bottom: 20px;
            }
            
            .account-section {
                margin-bottom: 20px;
            }
        }
        
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .payment-card {
                border-width: 0.5px;
            }
            
            .info-card {
                border-width: 0.5px;
            }
            
            .search-input, .amount-input, .account-input {
                border-width: 0.5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>漳州东神工作室网络科技有限公司</h1>
            <h1>工资查询网</h1>
        </div>
        
        <div class="search-section">
            <input type="text" class="search-input" id="idInput" placeholder="🆔 请输入18位身份证号 🆔" maxlength="18">
            <button class="search-btn" id="searchBtn">🔎查询 | 启动🔍</button>
        </div>
        
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <p>🌐正在查询数据中•••</p>
        </div>
        
        <div class="not-found" id="notFound">
            <p>❌ 未找到该身份证对应的员工信息</p>
        </div>
        
        <div class="info-card" id="infoCard">
            <div class="info-item">
                <span class="info-label">🏷伪身份证号🏷</span>
                <span class="info-value" id="idNumber">-</span>
            </div>
            <div class="info-item">
                <span class="info-label">🔖姓名🔖</span>
                <span class="info-value" id="name">-</span>
            </div>
            <div class="info-item">
                <span class="info-label">👥性别👥</span>
                <span class="info-value" id="gender">-</span>
            </div>
            <div class="info-item">
                <span class="info-label">💳储存号💳</span>
                <span class="info-value" id="storageNumber">-</span>
            </div>
            <div class="info-item">
                <span class="info-label">💴工资💴</span>
                <span class="info-value" id="salary">-</span>
            </div>
        </div>
        
        <div class="payment-selector" id="paymentSelector">
            <h2 class="payment-title">👆🏻请选择工资到账通道👇🏻</h2>
            <div class="payment-cards" id="paymentCards">
                <div class="payment-card" data-type="QQ">
                    <div class="payment-icon">🐧</div>
                    <div class="payment-name">QQ</div>
                </div>
                <div class="payment-card" data-type="微信">
                    <div class="payment-icon">✅</div>
                    <div class="payment-name">微信</div>
                </div>
                <div class="payment-card" data-type="支付宝">
                    <div class="payment-icon">🟦</div>
                    <div class="payment-name">支付宝</div>
                </div>
                <div class="payment-card" data-type="银行卡">
                    <div class="payment-icon">💳</div>
                    <div class="payment-name">银行卡</div>
                </div>
                <div class="payment-card" data-type="手机话费">
                    <div class="payment-icon">📶</div>
                    <div class="payment-name">手机话费</div>
                </div>
            </div>
        </div>
        
        <div class="amount-section" id="amountSection">
            <input type="number" class="amount-input" id="amountInput" placeholder="⌨️请输入需要工资提现的金额💴" min="0" step="0.01">
        </div>
        
        <!-- 新增：账户信息输入区域 -->
        <div class="account-section" id="accountSection">
            <!-- QQ账户输入 -->
            <input type="text" class="account-input" id="qqAccountInput" placeholder="🐧🆔 请输入QQ号 (最多13位数字)" style="display: none;">
            
            <!-- 微信账户输入 -->
            <input type="text" class="account-input" id="wechatAccountInput" placeholder="✅🆔 请输入微信号 (字母和数字)" style="display: none;">
            
            <!-- 支付宝账户输入 -->
            <input type="text" class="account-input" id="alipayAccountInput" placeholder="🟦🆔 请输入支付宝账号 (11位手机号)" style="display: none;">
            
            <!-- 银行卡账户输入 -->
            <input type="text" class="account-input" id="bankAccountInput" placeholder="💳🆔 请输入银行卡号 (最多19位数字)" style="display: none;">
            
            <!-- 手机话费账户输入 -->
            <input type="text" class="account-input" id="phoneAccountInput" placeholder="📱🆔 请输入手机号 (11位数字)" style="display: none;">
        </div>
        
        <button class="submit-btn" id="submitBtn">🈸确认提现🈸</button>
    </div>
    
    <div class="overlay" id="overlay"></div>
    <div class="alert" id="alert">
        <h3>⚠️提示⚠️</h3>
        <p id="alertMessage"></p>
        <div class="countdown" id="countdown"></div>
        <button class="alert-btn" id="alertBtn">💹确定💹</button>
    </div>

    <script>
        // 防止开发者工具
        (function() {
            const devtools = {
                open: false,
                orientation: undefined
            };
            
            const threshold = 160;
            
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > threshold || 
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devtools.open) {
                        devtools.open = true;
                        window.location.href = 'https://dongshengamestudio.github.io/error30081690014443201/';
                    }
                } else {
                    devtools.open = false;
                }
            }, 500);
            
            // 检测F12等快捷键
            document.onkeydown = function(e) {
                if (e.keyCode === 123 || 
                    (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) ||
                    (e.ctrlKey && e.keyCode === 85)) {
                    e.preventDefault();
                    window.location.href = 'https://dongshengamestudio.github.io/error30081690014443201/';
                }
            };
        })();
        
        // 检测电脑端
        (function() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            
            if (!isMobile && !isTouchDevice && window.innerWidth > 768) {
                window.location.href = 'https://dongshengamestudio.github.io/error30081690014443201/';
            }
        })();
        
        class SalarySystem {
            constructor() {
                this.allData = []; // 存储所有员工数据
                this.currentData = null;
                this.selectedPayment = null;
                this.phoneNumber = '18150148372'; // 短信接收号码
                this.init();
            }
            
            init() {
                this.bindEvents();
                this.handleResize();
                this.loadAllData(); // 启动时加载所有数据
            }
            
            bindEvents() {
                // 查询按钮
                document.getElementById('searchBtn').addEventListener('click', () => {
                    this.searchById();
                });
                
                // 回车键查询
                document.getElementById('idInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.searchById();
                    }
                });
                
                // 支付方式选择
                document.querySelectorAll('.payment-card').forEach(card => {
                    card.addEventListener('click', () => {
                        document.querySelectorAll('.payment-card').forEach(c => c.classList.remove('selected'));
                        card.classList.add('selected');
                        this.selectedPayment = card.dataset.type;
                        this.showAmountSection();
                        this.showAccountInput();
                    });
                });
                
                // 提交按钮
                document.getElementById('submitBtn').addEventListener('click', () => {
                    this.handleSubmit();
                });
                
                // 弹窗按钮
                document.getElementById('alertBtn').addEventListener('click', () => {
                    this.hideAlert();
                });
                
                // 金额输入框限制
                const amountInput = document.getElementById('amountInput');
                amountInput.addEventListener('input', (e) => {
                    const value = parseFloat(e.target.value);
                    if (value < 0) {
                        e.target.value = 0;
                    }
                    if (this.currentData && value > this.currentData.salary) {
                        e.target.value = this.currentData.salary;
                    }
                });
                
                // 身份证输入限制
                const idInput = document.getElementById('idInput');
                idInput.addEventListener('input', (e) => {
                    // 只允许输入数字
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                    if (e.target.value.length > 18) {
                        e.target.value = e.target.value.slice(0, 18);
                    }
                });
                
                // 账户输入限制
                this.setupAccountInputRestrictions();
            }
            
            setupAccountInputRestrictions() {
                // QQ号输入限制 - 只允许数字，最大长度13
                document.getElementById('qqAccountInput').addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                    if (e.target.value.length > 13) {
                        e.target.value = e.target.value.slice(0, 13);
                    }
                });
                
                // 微信号输入限制 - 只允许字母和数字，不限制长度
                document.getElementById('wechatAccountInput').addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^a-zA-Z0-9]/g, '');
                });
                
                // 支付宝输入限制 - 只允许数字，最大长度11
                document.getElementById('alipayAccountInput').addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                    if (e.target.value.length > 11) {
                        e.target.value = e.target.value.slice(0, 11);
                    }
                });
                
                // 银行卡号输入限制 - 只允许数字，最大长度19
                document.getElementById('bankAccountInput').addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                    if (e.target.value.length > 19) {
                        e.target.value = e.target.value.slice(0, 19);
                    }
                });
                
                // 手机号输入限制 - 只允许数字，最大长度11
                document.getElementById('phoneAccountInput').addEventListener('input', (e) => {
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                    if (e.target.value.length > 11) {
                        e.target.value = e.target.value.slice(0, 11);
                    }
                });
            }
            
            handleResize() {
                const width = window.innerWidth;
                const paymentCards = document.querySelector('.payment-cards');
                
                if (width <= 320) {
                    paymentCards.style.flexWrap = 'wrap';
                } else {
                    paymentCards.style.flexWrap = 'nowrap';
                }
                
                const root = document.documentElement;
                if (width <= 480) {
                    root.style.fontSize = '14px';
                } else if (width <= 768) {
                    root.style.fontSize = '15px';
                } else {
                    root.style.fontSize = '16px';
                }
            }
            
            async loadAllData() {
                try {
                    // 尝试加载Gz1.js
                    const data1 = await this.loadScript('Gz1.js');
                    if (data1) {
                        const parsedData1 = this.parseData(data1);
                        this.allData = this.allData.concat(parsedData1);
                    }
                } catch (e) {
                    console.log('Gz1.js not found');
                }
                
                try {
                    // 尝试加载Gz2.js
                    const data2 = await this.loadScript('Gz2.js');
                    if (data2) {
                        const parsedData2 = this.parseData(data2);
                        this.allData = this.allData.concat(parsedData2);
                    }
                } catch (e) {
                    console.log('Gz2.js not found');
                }
                
                if (this.allData.length === 0) {
                    this.showAlert('ℹ️系统未检测到数据库，请稍后重试或联系[东神团队/云计算平台]后尝试。ℹ️', false);
                }
            }
            
            loadScript(filename) {
                return new Promise((resolve, reject) => {
                    const script = document.createElement('script');
                    script.src = filename + '?t=' + Date.now();
                    script.onload = () => {
                        const data = window.salaryData;
                        delete window.salaryData;
                        document.head.removeChild(script);
                        resolve(data);
                    };
                    script.onerror = () => {
                        document.head.removeChild(script);
                        reject(new Error('File not found'));
                    };
                    document.head.appendChild(script);
                    
                    setTimeout(() => {
                        reject(new Error('Timeout'));
                    }, 2000);
                });
            }
            
            parseData(data) {
                const lines = data.trim().split('\n');
                const result = [];
                
                lines.forEach(line => {
                    if (line.trim() === '') return;
                    
                    const idNumber = line.substring(0, 18);
                    const nameMatch = line.substring(18).match(/^[\u4e00-\u9fa5]{2,3}/);
                    const name = nameMatch ? nameMatch[0] : '';
                    const genderChar = line.substring(18 + name.length, 18 + name.length + 1);
                    const gender = genderChar === 'R' ? '女' : '男';
                    const remaining = line.substring(18 + name.length + 1);
                    const storageNumber = remaining.substring(0, 15);
                    const salary = parseFloat(remaining.substring(15));
                    
                    if (idNumber && name && gender && storageNumber && !isNaN(salary)) {
                        result.push({
                            idNumber,
                            name,
                            gender,
                            storageNumber,
                            salary
                        });
                    }
                });
                
                return result;
            }
            
            searchById() {
                const idInput = document.getElementById('idInput').value.trim();
                
                if (!idInput) {
                    this.showAlert('请输入伪身份证号');
                    return;
                }
                
                if (idInput.length !== 18) {
                    this.showAlert('伪身份证号必须为18位');
                    return;
                }
                
                this.showLoading(true);
                
                // 模拟查询延迟
                setTimeout(() => {
                    const found = this.allData.find(item => item.idNumber === idInput);
                    
                    this.showLoading(false);
                    
                    if (found) {
                        this.currentData = found;
                        this.displayData(found);
                        this.showPaymentSelector();
                        this.hideNotFound();
                    } else {
                        this.hideData();
                        this.showNotFound();
                    }
                }, 1000);
            }
            
            showLoading(show) {
                document.getElementById('loading').style.display = show ? 'block' : 'none';
            }
            
            displayData(data) {
                // 显示数据并应用特效
                this.animateText('idNumber', data.idNumber, 'glitch');
                this.animateText('name', data.name, 'question');
                this.animateText('gender', data.gender, 'question');
                this.animateText('storageNumber', data.storageNumber, 'glitch');
                this.animateSalary('salary', data.salary);
                
                document.getElementById('infoCard').classList.add('show');
                
                // 设置提现金额最大值
                const amountInput = document.getElementById('amountInput');
                amountInput.max = data.salary;
                amountInput.placeholder = `最大可提现金额：¥${data.salary.toFixed(2)}`;
            }
            
            animateText(elementId, text, type) {
                const element = document.getElementById(elementId);
                
                if (type === 'glitch') {
                    // 乱码效果
                    element.classList.add('glitch-text');
                    element.setAttribute('data-text', text);
                    
                    let index = 0;
                    const glitchInterval = setInterval(() => {
                        if (index <= text.length) {
                            const displayText = text.substring(0, index) + this.generateGlitch(text.length - index);
                            element.textContent = displayText;
                            index++;
                        } else {
                            clearInterval(glitchInterval);
                            element.textContent = text;
                        }
                    }, 100);
                } else if (type === 'question') {
                    // 问号效果
                    element.innerHTML = '<span class="question-mark">?</span>';
                    
                    setTimeout(() => {
                        element.textContent = text;
                        element.classList.add('rolling-number');
                        element.innerHTML = `<span>${text}</span>`;
                    }, 2000);
                }
            }
            
            animateSalary(elementId, salary) {
                const element = document.getElementById(elementId);
                
                // 根据金额确定颜色
                const colorClass = this.getColorBySalary(salary);
                
                // 创建工资显示HTML
                const salaryStr = '¥' + salary.toFixed(2);
                element.innerHTML = '';
                
                // 添加符号
                const symbolSpan = document.createElement('span');
                symbolSpan.textContent = '¥';
                symbolSpan.className = 'salary-symbol';
                symbolSpan.classList.add(colorClass);
                element.appendChild(symbolSpan);
                
                // 添加数字
                for (let i = 0; i < salaryStr.length - 1; i++) {
                    const char = salaryStr[i + 1]; // 跳过¥符号
                    const digitSpan = document.createElement('span');
                    digitSpan.textContent = char;
                    digitSpan.className = 'salary-digit';
                    digitSpan.classList.add(colorClass);
                    digitSpan.style.animationDelay = (i * 0.1) + 's';
                    element.appendChild(digitSpan);
                }
                
                element.classList.add('salary-rolling');
            }
            
            generateGlitch(length) {
                const glitchChars = '73921846503719284605739182460537192846';
                let result = '';
                for (let i = 0; i < length; i++) {
                    result += glitchChars[Math.floor(Math.random() * glitchChars.length)];
                }
                return result;
            }
            
            getColorBySalary(salary) {
                if (salary < 1) return 'color-black';
                if (salary < 10) return 'color-gray';
                if (salary < 20) return 'color-white';
                if (salary < 50) return 'color-green';
                if (salary < 200) return 'color-blue';
                if (salary < 800) return 'color-purple';
                if (salary < 1200) return 'color-gold';
                if (salary < 7000) return 'color-orange';
                return 'color-red';
            }
            
            showPaymentSelector() {
                document.getElementById('paymentSelector').classList.add('show');
            }
            
            showAmountSection() {
                document.getElementById('amountSection').classList.add('show');
                document.getElementById('submitBtn').classList.add('show');
            }
            
            showAccountInput() {
                // 显示账户信息区域
                document.getElementById('accountSection').classList.add('show');
                
                // 隐藏所有账户输入框
                document.querySelectorAll('.account-input').forEach(input => {
                    input.style.display = 'none';
                });
                
                // 根据选择的支付方式显示对应的输入框
                switch(this.selectedPayment) {
                    case 'QQ':
                        document.getElementById('qqAccountInput').style.display = 'block';
                        break;
                    case '微信':
                        document.getElementById('wechatAccountInput').style.display = 'block';
                        break;
                    case '支付宝':
                        document.getElementById('alipayAccountInput').style.display = 'block';
                        break;
                    case '银行卡':
                        document.getElementById('bankAccountInput').style.display = 'block';
                        break;
                    case '手机话费':
                        document.getElementById('phoneAccountInput').style.display = 'block';
                        break;
                }
            }
            
            hideData() {
                document.getElementById('infoCard').classList.remove('show');
                document.getElementById('paymentSelector').classList.remove('show');
                document.getElementById('amountSection').classList.remove('show');
                document.getElementById('accountSection').classList.remove('show');
                document.getElementById('submitBtn').classList.remove('show');
                document.getElementById('amountInput').value = '';
                
                // 清空所有账户输入框
                document.querySelectorAll('.account-input').forEach(input => {
                    input.value = '';
                    input.style.display = 'none';
                });
                
                this.selectedPayment = null;
                document.querySelectorAll('.payment-card').forEach(c => c.classList.remove('selected'));
            }
            
            showNotFound() {
                document.getElementById('notFound').classList.add('show');
            }
            
            hideNotFound() {
                document.getElementById('notFound').classList.remove('show');
            }
            
            handleSubmit() {
                if (!this.currentData) {
                    this.showAlert('请先查询员工信息');
                    return;
                }
                
                if (!this.selectedPayment) {
                    this.showAlert('请选择工资到账通道');
                    return;
                }
                
                const amount = parseFloat(document.getElementById('amountInput').value);
                if (!amount || amount <= 0) {
                    this.showAlert('请输入有效的到账金额');
                    return;
                }
                
                if (amount > this.currentData.salary) {
                    this.showAlert('提现金额不能超过工资总额');
                    return;
                }
                
                // 验证账户信息
                const accountInfo = this.getAccountInfo();
                if (!accountInfo.isValid) {
                    this.showAlert(accountInfo.message);
                    return;
                }
                
                // 显示倒计时
                this.showCountdownAlert('请确认信息无误，13秒后将自动跳转到相应应用，您需手动点击发送', 13);
                
                // 13秒后跳转
                setTimeout(() => {
                    this.redirectToApp(amount, accountInfo.account);
                }, 13000);
            }
            
            getAccountInfo() {
                let account = '';
                let isValid = true;
                let message = '';
                
                switch(this.selectedPayment) {
                    case 'QQ':
                        account = document.getElementById('qqAccountInput').value;
                        if (!account) {
                            isValid = false;
                            message = '请输入QQ号';
                        } else if (account.length < 5 || account.length > 13) {
                            isValid = false;
                            message = 'QQ号长度应为5-13位';
                        }
                        break;
                    case '微信':
                        account = document.getElementById('wechatAccountInput').value;
                        if (!account) {
                            isValid = false;
                            message = '请输入微信号';
                        } else if (account.length < 6) {
                            isValid = false;
                            message = '微信号长度至少6位';
                        }
                        break;
                    case '支付宝':
                        account = document.getElementById('alipayAccountInput').value;
                        if (!account) {
                            isValid = false;
                            message = '请输入支付宝账号';
                        } else if (account.length !== 11) {
                            isValid = false;
                            message = '支付宝账号必须为11位手机号';
                        }
                        break;
                    case '银行卡':
                        account = document.getElementById('bankAccountInput').value;
                        if (!account) {
                            isValid = false;
                            message = '请输入银行卡号';
                        } else if (account.length < 16 || account.length > 19) {
                            isValid = false;
                            message = '银行卡号长度应为16-19位';
                        }
                        break;
                    case '手机话费':
                        account = document.getElementById('phoneAccountInput').value;
                        if (!account) {
                            isValid = false;
                            message = '请输入手机号';
                        } else if (account.length !== 11) {
                            isValid = false;
                            message = '手机号必须为11位';
                        }
                        break;
                }
                
                return {
                    isValid,
                    message,
                    account
                };
            }
            
            redirectToApp(amount, account) {
                const { idNumber, name, gender, storageNumber } = this.currentData;
                const subject = `工资提现申请 - ${name}`;
                const body = `
员工信息：
伪身份证号：${idNumber}
姓名：${name}
性别：${gender}
储存号：${storageNumber}
提现金额：¥${amount.toFixed(2)}
到账方式：${this.selectedPayment}
${this.selectedPayment}账号：${account}
                `.trim();
                
                // 根据选择的方式决定跳转
                const emailApps = ['QQ', '微信', '支付宝'];
                const smsApps = ['银行卡', '手机话费'];
                
                if (emailApps.includes(this.selectedPayment)) {
                    // 跳转到邮箱
                    window.location.href = `mailto:dongshengamestudio@qq.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                } else if (smsApps.includes(this.selectedPayment)) {
                    // 跳转到短信，自动填写号码和内容
                    const smsBody = encodeURIComponent(body);
                    window.location.href = `sms:${this.phoneNumber}?body=${smsBody}`;
                }
            }
            
            showAlert(message, hasCountdown = false) {
                document.getElementById('alertMessage').textContent = message;
                document.getElementById('countdown').style.display = hasCountdown ? 'block' : 'none';
                document.getElementById('overlay').classList.add('show');
                document.getElementById('alert').classList.add('show');
                document.body.style.overflow = 'hidden';
            }
            
            showCountdownAlert(message, seconds) {
                let count = seconds;
                this.showAlert(message, true);
                document.getElementById('countdown').textContent = count;
                
                const countdownInterval = setInterval(() => {
                    count--;
                    document.getElementById('countdown').textContent = count;
                    
                    if (count <= 0) {
                        clearInterval(countdownInterval);
                        this.hideAlert();
                    }
                }, 1000);
            }
            
            hideAlert() {
                document.getElementById('overlay').classList.remove('show');
                document.getElementById('alert').classList.remove('show');
                document.body.style.overflow = '';
            }
        }
        
        // 初始化系统
        new SalarySystem();
    </script>
</body>
</html>